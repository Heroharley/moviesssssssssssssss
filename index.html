<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Heroharley's Media Player | BRUH</title>
  <style>
    body {
      background: black;
    }

    #btn {
      position: fixed;
      top: 15px;
      right: 15px;
      z-index: 10001;
      padding: 10px 20px;
      font-size: 16px;
      font-weight: 700;
      color: white;
      background-color: #4c4cff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(76, 76, 255, 0.7);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      user-select: none;
    }

    #btn:hover {
      background-color: #6262f8;
      box-shadow: 0 6px 20px rgba(98, 98, 248, 0.9);
    }

    #modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.85);
      z-index: 10002;
      justify-content: center;
      align-items: center;
      overflow-y: auto;
    }

    #modal .content {
      background-color: #1e1e2f;
      padding: 30px 35px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
      max-width: 50vw;
      max-height: 50vh;
      width: 100%;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      position: relative;
      overflow-y: auto;
    }

    #modal h3 {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 20px;
      color: #f0f0f3;
      user-select: none;
    }

    label {
      font-size: 14px;
      color: #a2a2b5;
      margin-bottom: 6px;
      display: inline-block;
      font-weight: 600;
      letter-spacing: 0.04em;
      user-select: none;
    }

    select,
    input[type=text],
    input[type=number],
    input[type=password] {
      width: 100%;
      padding: 12px 14px;
      margin-bottom: 16px;
      font-size: 15px;
      border-radius: 6px;
      border: none;
      background-color: #2e2e4f;
      color: #e3e3e8;
      box-shadow: inset 2px 2px 5px #272748, inset -2px -2px 5px #39396a;
      transition: background-color 0.2s ease;
      outline-offset: 2px;
    }

    select:focus,
    input[type=text]:focus,
    input[type=number]:focus,
    input[type=password]:focus {
      background-color: #3a3a6b;
      outline: none;
    }

    .buttons {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
    }

    button.loadbtn {
      background-color: #4c4cff;
      border: none;
      border-radius: 8px;
      color: #f0f0f3;
      padding: 12px 22px;
      font-weight: 600;
      font-size: 15px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(76, 76, 255, 0.5);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      user-select: none;
    }

    button.loadbtn:hover {
      background-color: #6262f8;
      box-shadow: 0 6px 20px rgba(98, 98, 248, 0.7);
    }

    .closebtn {
      background: transparent;
      font-size: 24px;
      line-height: 1;
      color: #8888aa;
      transition: color 0.2s ease;
      padding: 0;
      border: none;
      cursor: pointer;
      user-select: none;
      position: absolute;
      top: 12px;
      right: 12px;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .closebtn:hover {
      color: #f0f0f3;
    }

    #results {
      margin-top: 5px;
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
      max-height: 400px;
      overflow-y: auto;
    }

    .resultcard {
      background-color: #2f2f5c;
      border-radius: 10px;
      padding: 12px;
      width: 160px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
      text-align: center;
      color: #ddd;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform 0.3s ease;
      user-select: none;
    }

    .resultcard:hover {
      transform: scale(1.03);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.7);
    }

    .resultcard img {
      border-radius: 8px;
      width: 140px;
      height: 210px;
      object-fit: cover;
      margin-bottom: 10px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    .resultcard button {
      background-color: black;
      box-shadow: none;
      font-weight: 700;
      font-size: 14px;
      color: #ffffff !important;
      width: 100%;
      padding: 8px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease,
        box-shadow 0.3s ease;
      user-select: none;
      z-index: 10;
    }

    .resultcard button:hover {
      background-color: #6464ff;
      box-shadow: 0 5px 15px rgba(100, 100, 255, 0.7);
      color: #ecf0ff !important;
    }

    #embeddiv {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: black;
      z-index: 998;
    }

    #embeddiv iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: block;
    }
  </style>
</head>

<body>
  <button id="btn" onclick="showModal()">Play Settings</button>

  <div
    id="pwdmodal"
    style="
      display: flex;
      justify-content: center;
      align-items: center;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 10000;
    "
  >
    <div class="content" style="max-width: 400px; text-align: center">
      <h3>Enter Password</h3>
      <input type="password" id="pwdinput" placeholder="Password" />
      <button class="loadbtn" onclick="checkPwd()">Submit</button>
      <p id="pwderror"></p>
    </div>
  </div>

  <div
    id="modal"
    style="display: none; flex; justify-content: center; align-items: center"
  >
    <div class="content">
      <button class="closebtn" onclick="hideModal()">Ã—</button>
      <h3>Play Settings</h3>

      <label for="type-sel">Type:</label>
      <select id="type-sel" onchange="showSeries()">
        <option value="movie">Movie</option>
        <option value="series">Series</option>
      </select>

      <label for="id-input">IMDb ID:</label>
      <input type="text" id="id-input" placeholder="Enter IMDb ID" />

      <label for="search-input">Search Movies/Series:</label>
      <div style="display: flex; margin-bottom: 10px">
        <input
          type="text"
          id="search-input"
          placeholder="Search by name..."
          style="flex-grow: 1; margin-right: 5px"
        />
        <button class="loadbtn" onclick="doSearch()">Search</button>
      </div>

      <div id="results"></div>

      <div id="series-params" style="display: none">
        <label for="season-input">Season:</label>
        <input type="number" id="season-input" placeholder="Season Number" />
        <label for="episode-input">Episode:</label>
        <input type="number" id="episode-input" placeholder="Episode Number" />
      </div>

      <button
        class="loadbtn"
        onclick="loadPlayer()"
        style="margin-top: 12px; width: 100%"
      >
        Load
      </button>
    </div>
  </div>

  <div id="embeddiv"></div>

  <script>
    const KEY = "passwordAuth";
    const SALT = "net";
    const HASHED =
      "b5349418f06fa0540d86c79878bb29fc1a3d235f060970bea0ca4c1e75dc7a17";

    async function hashPwd(pwd) {
      const encoder = new TextEncoder();
      const salted = pwd + SALT;
      const data = encoder.encode(salted);
      const hashBuff = await crypto.subtle.digest("SHA-256", data);
      return Array.from(new Uint8Array(hashBuff))
        .map((b) => b.toString(16).padStart(2, "0"))
        .join("");
    }

    function isAuth() {
      return sessionStorage.getItem(KEY) === HASHED;
    }

    window.onload = async () => {
      if (!isAuth()) {
        document.getElementById("pwdmodal").style.display = "flex";
        document.getElementById("modal").style.display = "none";
      } else {
        document.getElementById("pwdmodal").style.display = "none";
      }
    };

    async function checkPwd() {
      const input = document.getElementById("pwdinput").value.trim();
      const error = document.getElementById("pwderror");
      error.textContent = "";

      if (!input) {
        error.textContent = "Password cannot be empty!";
        return;
      }
      try {
        const hashedInput = await hashPwd(input);
        if (hashedInput === HASHED) {
          sessionStorage.setItem(KEY, hashedInput);
          document.getElementById("pwdmodal").style.display = "none";
          error.textContent = "";
        } else {
          error.textContent = "Incorrect password!";
          sessionStorage.removeItem(KEY);
        }
      } catch (e) {
        console.error("Hashing error:", e);
        error.textContent = "Validation error. Try reloading the page.";
      }
    }

    function showModal() {
      if (isAuth()) {
        document.getElementById("modal").style.display = "flex";
      } else {
        document.getElementById("pwdmodal").style.display = "flex";
      }
    }

    function hideModal() {
      document.getElementById("modal").style.display = "none";
    }

    function showSeries() {
      const type = document.getElementById("type-sel").value;
      document.getElementById("series-params").style.display =
        type === "series" ? "block" : "none";
    }

    async function doSearch() {
      const query = document.getElementById("search-input").value.trim();
      const results = document.getElementById("results");
      results.innerHTML = "";

      if (!query) {
        results.style.display = "none";
        return;
      }
      results.style.display = "flex";

      const url = `https://api.imdbapi.dev/search/titles?query=${encodeURIComponent(
        query
      )}`;

      try {
        const response = await fetch(url);
        const data = await response.json();

        if (!data.titles || data.titles.length === 0) {
          results.innerHTML = "<p>No results found.</p>";
          return;
        }

        results.innerHTML = "";
        for (const item of data.titles) {
          const poster =
            item.primaryImage && item.primaryImage.url
              ? item.primaryImage.url
              : "https://via.placeholder.com/160x240?text=No+Image";
          const title = item.primaryTitle || "Unknown";
          const year = item.startYear || "N/A";
          const imdbId = item.id;

          const card = document.createElement("div");
          card.className = "resultcard";

          const img = document.createElement("img");
          img.src = poster;
          img.alt = title;

          const tit = document.createElement("div");
          tit.textContent = `${title} (${year})`;

          const btn = document.createElement("button");
          btn.textContent = "Play";
          btn.onclick = () => {
            document.getElementById("id-input").value = imdbId;
            document.getElementById("type-sel").value = item.type
              .toLowerCase()
              .includes("movie")
              ? "movie"
              : "series";
            showSeries();
            results.style.display = "none";
            document.getElementById("search-input").value = "";
            loadPlayer();
          };

          card.appendChild(img);
          card.appendChild(tit);
          card.appendChild(btn);

          results.appendChild(card);
        }
      } catch (error) {
        results.innerHTML = "<p>Error loading results, try again.</p>";
        console.error(error);
      }
    }

    function loadPlayer() {
      const type = document.getElementById("type-sel").value;
      const mediaId = document.getElementById("id-input").value.trim();
      const season = document.getElementById("season-input").value.trim();
      const episode = document.getElementById("episode-input").value.trim();
      const embed = document.getElementById("embeddiv");

      if (!mediaId) {
        alert("Please enter or select a valid IMDb ID.");
        return;
      }
      embed.style.display = "block";

      let src = "";
      if (type === "movie") {
        src = `https://vidsrc.me/embed/movie/${mediaId}`;
      } else if (type === "series") {
        src = `https://vidsrc.me/embed/tv?imdb=${mediaId}`;
        if (season) src += `&season=${season}`;
        if (episode) src += `&episode=${episode}`;
      }

      embed.innerHTML = `<iframe src="${src}" referrerpolicy="origin" allowfullscreen></iframe>`;
      hideModal();
    }
  </script>
</body>

</html>
<!--
made with ai
-->
